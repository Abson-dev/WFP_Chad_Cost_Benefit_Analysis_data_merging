"0",""
"0","df_2020 = Chad_ea_2020 %>% "
"0","  dplyr::select(ID,abi_variables)"
"0",""
"0","all_missing_cols <- df_2020 %>%"
"0","  select(where(~ all(is.na(.)))) %>% names()"
"0",""
"0","#all_missing_cols"
"0",""
"0","abi_variables_tmp <- abi_variables[! abi_variables %in% all_missing_cols]"
"0",""
"0",""
"0","expss::val_lab(df_2020$ABIProteger)"
"1","Non "
"1","Oui "
"1"," NA "
"1","
"
"1","  0 "
"1","  1 "
"1","  2 "
"1","
"
"0","df_2020 <- df_2020 %>%"
"0","  dplyr::mutate(across(all_of(abi_variables_tmp), ~ as.character(.))) %>%"
"0","  dplyr::mutate(across(all_of(abi_variables_tmp), ~ dplyr::recode(., ""0"" = 0, ""1"" = 1))) %>%"
"0","  tidyr::replace_na(setNames(as.list(rep(888, length(abi_variables_tmp))), abi_variables_tmp))"
"0",""
"0",""
"0","df_2020 <- df_2020 %>% "
"0","  dplyr::mutate(across(abi_variables_tmp,"
"0","                       ~labelled(., labels = c("
"0","                         ""Non"" = 0,"
"0","                         ""Oui"" = 1,"
"0","                         ""Ne sait pas"" = 888"
"0","                       )"
"0","                       )"
"0","  )"
"0","  )"
"0","expss::val_lab(df_2020$ABIProteger)"
"1","        Non "
"1","        Oui "
"1","Ne sait pas "
"1","
"
"1","          0 "
"1","          1 "
"1","        888 "
"1","
"
"0","# haven::write_dta(df_2020,paste0(dir_output_data,""/"",""df_2020.dta""))"
